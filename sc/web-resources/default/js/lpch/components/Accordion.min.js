/**
 * Accordion:	Implementation
 * Description:	An extension of the lpch.BaseView object
 * 				Allows for declaration of interactivity for Accordion components
 */lpch.Accordion=lpch.BaseView.extend({initialize:function(){var e=this;this.$el.find(".mktgaccord-item-main-content ul:first-of-type, .mktgaccord-item-sidebar ul:first-of-type").addClass("first-of-type");this.$el.find(".mktgaccord-item-main-content .p50:first-of-type").addClass("first-of-type");this.$el.find(".accordion-nav li a").first().addClass("active").next().addClass("open");this.$el.find(".mktgaccord-item-container div:first-child").addClass("open");this.$el.find(".accordion-btn").click(function(t){if($(this).hasClass("no-action"))return!1;t.preventDefault();if(!$(this).hasClass("active")){e.$el.find(".open").removeClass("open");e.$el.find("#"+$(this).attr("data-rel")).addClass("open");e.$el.find(".active").removeClass("active");$(this).addClass("active");module.view.trackEvent($(this).attr("title")||$(this).text())}});var t=$(".mktgaccord-component").first(),n=$(".mktgaccord-component").last();t.find(".accordion-title .arrow").addClass("bottom");n.find(".accordion-title .arrow").addClass("top");n.addClass("last-child");this.$el.find(".bottom").click(function(){$("html, body").stop().animate({scrollTop:n.offset().top},600)});this.$el.find(".top").click(function(){$("html, body").stop().animate({scrollTop:t.offset().top-t.find(".tabs-title").height()-15},600)});this.$el.find(".mktgaccord-item a").not(".youtube").click(function(e){module.view.trackEvent($(this).attr("title")||$(this).text()||$(this).find("img").first().attr("alt"))});var r=module.view.getCurrentOrientation();if(r=="smartphone"){this.$el.find(".accordion-title").unbind("click",this.toggleAccordion).bind("click",this.toggleAccordion).removeClass("down").addClass("up");this.$el.find(".accordion-title").next().hide();this.setHeightForSubNav();this.$el.find(".bottom").unbind("click");this.$el.find(".top").unbind("click")}lpch.BaseView.prototype.initialize.call(this)},handleLayoutChange:function(e){var t=e.get("orientation");if(t=="smartphone"){this.$el.find(".accordion-title").unbind("click",this.toggleAccordion).bind("click",this.toggleAccordion);this.$el.find(".accordion-title").removeClass("up").addClass("down");this.$el.find(".bottom").unbind("click");this.$el.find(".top").unbind("click")}else{this.$el.find(".accordion-title").unbind("click",this.toggleAccordion);this.$el.find(".accordion-wrapper").removeAttr("style");this.$(".accordion-item a").removeAttr("style")}},handleViewportChange:function(e,t){var n=module.view.getCurrentOrientation();n=="smartphone"&&this.setHeightForSubNav()},toggleAccordion:function(){var e=$(this);e.hasClass("down")?e.removeClass("down").addClass("up"):e.removeClass("up").addClass("down");e.next().toggle()},setHeightForSubNav:function(){var e=module.view.getCurrentOrientation();if(e=="smartphone"){this.$(".accordion-item a").removeAttr("style");var t=this.getMaxHeightForSubNav();this.$(".accordion-item a").height(t)}},getMaxHeightForSubNav:function(){var e=this.$(".accordion-item a").eq(0).height();this.$(".accordion-item a").each(function(t){$(this).height()>e&&(e=$(this).height())});return e}});$(window).bind("initializeComponents",function(){alert("y");$(".mktgaccord-component").each(function(e){new lpch.Accordion({el:this})})});